<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylesheets/style-locationSelection.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">
    <title>La-cruze: Membership Page</title>
  </head>
  <body>
    <section class="main-content">
      <h1>FlutterWave Integration using node.js</h1>
      <hr />
      <form action="" method="POST" id="payForm">
        <label for="">Full Name</label>
        <input
          type="text"
          id="fullName"
          placeholder="Enter your Full Name"
          required
        />
        <label for="">Phone Number</label>
        <input
          type="number"
          id="phoneNumber"
          placeholder="Fill in your Phone Number here..."
          required
        />
        <label for="">Email</label>
        <input
          type="email"
          id="email"
          placeholder="Enter your email here..."
          required
        />
        <label for="">Membership Plan</label>
        <input type="text" id="amount" placeholder="fill in membership cost"/>
        
       
        <script src="https://checkout.flutterwave.com/v3.js"></script>
        <button type="button" class="btn">Pay Now</button>
        <!-- <button type="button" class="btn">Pay</button> -->
      </form>
    </section>
    
    <script>
      // const amount = document.getElementById('amount').value
      const btn = document.querySelectorAll('button');
      btn.forEach((i)=>{

        i.addEventListener('click', () => {
          FlutterwaveCheckout({
            public_key: 'FLWPUBK_TEST-fff91edde08e309a1d1bdaaa796d6b8c-X',
            tx_ref: 'kd_' + Math.floor(Math.random() * 1000000000 + 1),
            amount: document.getElementById('amount').value,
            currency: 'NGN',
            customer: {
              email: document.getElementById('email').value,
              phonenumber: document.getElementById('phoneNumber').value,
              name: document.getElementById('fullName').value,
            },
            callback: (data) => {
              console.log(data);
            },
            
          });
        });
      }) 
      
    </script>
  </body>
</html>
